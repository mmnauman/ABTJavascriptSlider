<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Unique Slider</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--  <script src='jquery/script.js'></script>-->
    <!--<link rel="stylesheet" href="https://raw.githubusercontent.com/daneden/animate.css/master/animate.css">-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.5.2/animate.min.css">
    
</head>
<body>
   
   <div class="sliderWrap">
       <div class="slider">
           <div id="prev" class='prev prevSection navigate'>
               
               <span>&#8249;</span>
               
           </div>
           <div id='slidesContainer' class='slidesWrap'>
               <div class="slide active">
                   <img src="images/1.jpg" alt="First Image" title='1'>
               </div>
               <div class="slide">
                     <img src="images/2.jpg" alt="Second Image" title='2'>                 
               </div>
               <div class="slide">
                     <img src="images/3.jpg" alt="Third Image" title='3'>
               </div> 
                <div class="slide">
                     <img src="images/4.jpg" alt="Fourth Image" title='4'>
               </div>
               <div class="slide">
                     <img src="images/5.jpg" alt="Fourth Image" title='4'>
               </div>
               <div class="slide">
                     <img src="images/6.jpg" alt="Fourth Image" title='4'>
               </div>
                <div class="slide">
                     <img src="images/7.jpg" alt="Fourth Image" title='4'>
               </div>
           </div>
           <div id="next" class='next nextSection navigate'>
               
              <span>&#8250;</span>
           </div>
       </div>
   </div>
   
   <script>
       
$(function(){
    
let autoSlide = true;
    
// variables declaration
    let slide = $(".slide");
    let firstImg = $(".slide img:first-child");
// Declaring Navigation Buttons
    const prevBtn = $("#prev");
    const nextBtn = $("#next");

// getting the next and last images for the next and prev
    
// Creating Array and getting all the image Urls
var slidesContainer = [];
var allSlides = [];
const Effects = ["bounceInRight", "flipInX", "lightSpeedIn", "jackInTheBox", "zoomInRight", "zoomInDown", "rotateInDownRight", "fadeInRight", "rubberBand"];
// declaring logical variables
var indexVal = 0
var j = 0;
var k = 0;
    
//Looping over the slides and getting all the image urls
for(let i = 0; i < slide.length; i++){  
    //Making all the slides display : none
    $(".slide").init().eq(i).hide();
    slidesContainer.push(slide[i].firstElementChild.getAttribute("src")); 
    allSlides.push(slide[i]);
}

// Adding Default Background To the Navigation buttons
prevBtn.css("background", 'url(' + $(".slide").init().eq($(".slide").length - 1).find("img")[0].src+ ')'); 
nextBtn.css("background", 'url(' + $(".slide").init().eq(1).find("img")[0].src+ ')');

// Only showing the first slide
$(".slide").init().eq(0).show();

// Creating Event Listener and adding click event on the navigation buttons
prevBtn.on("click", prevSlides);
nextBtn.on("click", nextSlides);
   
    
// Creating Prev Function that will work on clicking on the previous button
function prevSlides(){
    
     if (indexVal === 0) {
           j = slidesContainer.length;
        indexVal = slidesContainer.length; 

        $(".slide").init().eq(0).hide();
        $(".slide").init().eq(slidesContainer.length-1).show();
    }
    indexVal = indexVal -1; // decrease by one
    
       allSlides.forEach(function(slides){
        slides.style.display = "none";
    });
    
      if(indexVal === slidesContainer.length - 1){
              k = 0;
           console.log(k);
             nextBtn.css("background", 'url(' + $(".slide").init().eq(k).find("img")[0].src+')');
          }else{
               k = 0;
            k = indexVal + 1;
               nextBtn.css("background", 'url(' + $(".slide").init().eq(k).find("img")[0].src+')');
          }
    
    Effects[Math.floor(Math.random() * (Effects.length ))];
    
$(allSlides[indexVal]).fadeIn().animateCss(Effects[Math.floor(Math.random() * Effects.length)], function() {
 $(this).removeClass("animated slideInLeft");
});

        j = indexVal - 1;    
        prevBtn.css("background", 'url(' + $(".slide").init().eq(j).find("img")[0].src+ ')');
    
    //console.log(slidesContainer.length - 1);
     
      if(indexVal === 0){
        k = 0;
        k=indexVal + 1;
         prevBtn.css("background", 'url(' + $(".slide").init().eq($(".slide").length - 1).find("img")[0].src+ ')'); 
        nextBtn.css("background", 'url(' + $(".slide").init().eq(k).find("img")[0].src+ ')');
    }
    
}
    
function nextSlides(){
    indexVal != slidesContainer.length - 1?indexVal++ : indexVal = 0; 
             allSlides.forEach(function(slides){
        slides.style.display = "none";
    });
    
      Effects[Math.floor(Math.random() * (Effects.length ))];
    
$(allSlides[indexVal]).fadeIn().animateCss(Effects[Math.floor(Math.random() * Effects.length)], function() {
 $(this).removeClass("animated slideInLeft");
});
    
        if (indexVal === slidesContainer.length - 1){
             console.log($(".slide"));
        k = 0;
        nextBtn.css("background", 'url(' + $(".slide").init().eq(k).find("img")[0].src+ ')');
    }else{
          k = 0;
     k = indexVal + 1;
         nextBtn.css("background", 'url(' + $(".slide").init().eq(k).find("img")[0].src+ ')');
    }
    
     j = indexVal - 1;
    prevBtn.css("background", 'url(' + $(".slide").init().eq(j).find("img")[0].src+ ')'); 
    
     if(indexVal === 0){
        k = 0;
       j = slidesContainer.length - 1;
        k = indexVal + 1;
        prevBtn.css("background", 'url(' + $(".slide").init().eq(j).find("img")[0].src+ ')'); 
        nextBtn.css("background", 'url(' + $(".slide").init().eq(k).find("img")[0].src+ ')');
    }
    

}
    
if(autoSlide === true){
    setInterval(nextSlides, 5000);   
} 
        
      
        
        
});
    

    </script>
    
    <script src='helperFunctions.js'></script>
    
    
       <div class="creditWrap">
            
       <h1>Designed By <span style='color: red'>MM Nauman</span></h1>
       <h2>Publisher: <a href="https://www.allbloggertricks.com/">All Blogger Tricks</a></h2>
       <h3>Publisher URL: https://www.allbloggertricks.com/</h3>
       
   </div>
    
</body>
</html>